<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>IronGym</title>
</head>
<body>
    <h1>IronGym</h1>
    <h3>Faça seu cadastro para acessar nossa academia!</h3>
<form>

    <h3>Cadastro</h3>
    <input type="text" placeholder="Login" id="login">
    <input type="password" placeholder="Senha" id="senha">
    <input type="tel" placeholder="Telefone" id="telefone">
    <input type="email" placeholder="Email" id="email">
    <input type="submit" onclick="logar(); return false">

</form>

<footer>
    <p>&copy; 2025 IronGym</p>
</footer>

<script>


    function logar(){

        var login = document.getElementById('login').value;
        var senha = document.getElementById('senha').value;
        var telefone = document.getElementById('telefone').value;
        var email = document.getElementById('email').value;

        if(login == "admin" && senha == "admin"){
            alert('Sucesso');
            location.href = "home.html";
        }else{
            alert('Usuario ou senha incorretos');
        }

    }
    
</script>

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDm75bH5oDIgLLCRtej3CGTzF-TIWEDGPs",
      authDomain: "irongym-24886.firebaseapp.com",
      projectId: "irongym-24886",
      storageBucket: "irongym-24886.firebasestorage.app",
      messagingSenderId: "238077326386",
      appId: "1:238077326386:web:78bb7b5873a3cc048bf82b",
      measurementId: "G-NPK34FCRPD"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    function SalvarCadastro(event){
        event.PreventDefalt();
        var login = document.getElementById('login').value;
        var login = document.getElementById('senha').value;

        if(!login||!senha){
            alert ('Preencha todos os campos');
            return;
        }

        set (ref (DB,'usuários')+ login),{
            login: login,
            senha: senha
    
        };

        then (()=>{
            alert("Usuário cadastrado com sucesso!");
            location.href="home.html";
        })

        .catch((error)=>{
            console.error("Erro ao salvar",error);
            alert("Erro ao cadastrar");
        });
    }
  </script>
 
</body>
</html>